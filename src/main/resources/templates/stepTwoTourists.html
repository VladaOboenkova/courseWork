<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Ввод данных</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
</head>
<body>
<div class="container mt-2 mb-4">
    <h1 style="font-style: oblique; font-size: 30px; text-align: center;">Ввод информации о туристах</h1>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj" crossorigin="anonymous"></script>
<div class="container mt-2">
    <p style="font-weight: bold;">
        *** Если вы заказчик и являетесь одним из туристов, обязательно укажите номер телефона и почту.
    </p>
</div>
<div class="container mt-2">
<form  class="d-flex flex-column" method="post" th:action="@{/stepThreeInsurance}" >
        <table class="table">
            <tr>
                <th scope="col"></th>
                <th scope="col"></th>
            </tr>
            <tr th:each="tourist, itemStat : ${touristsForOrder}">
                <td>Турист <span th:utext="${itemStat.count}"></span></td>
                <td>
                  <ul class="list-group list-group-flush mt-2">
                        <li class="list-group-item">
                              Фамилия: <input type="text" th:field="*{tourists.surname__${itemStat.count}__}" required>
                         </li>
                         <li class="list-group-item">
                              Имя: <input type="text" th:field="*{tourists.name__${itemStat.count}__}" required>
                        </li>
                        <li class="list-group-item">
                              Отчество: <input type="text" th:field="*{tourists.middle_name__${itemStat.count}__}">
                        </li>
                        <li class="list-group-item">
                              Дата рождения: <input type="date" th:field="*{tourists.dob__${itemStat.count}__}"
                                                    required>
                        </li>
                        <li class="list-group-item">
                              Номер телефона: <input type="text" pattern="\+79([0-9]){9}"
                                                     th:field="*{tourists.phone__${itemStat.count}__}">
                        </li>
                        <li class="list-group-item">
                              Адрес электронной почты: <input type="email" pattern=".+@.+\..+"
                                                              th:field="*{tourists.email__${itemStat.count}__}">
                        </li>
                        <li class="list-group-item">
                              Номер загранпаспорта:
                            <input type="text" pattern="([0-9]){2}"
                                   th:field="*{tourists.intl_passport_num__${itemStat.count}__}" required>
                        </li>
                        <li class="list-group-item">
                              Серия загранпаспорта:
                            <input type="text" pattern="([0-9]){7}"
                                   th:field="*{tourists.intl_passport_series__${itemStat.count}__}" required>
                        </li>
                  </ul>
       </td>
            </tr>
</table>
<div class="container mt-5">
    <span>Введите данные заказчика для заключения договора: </span>
    <p style="font-weight: bold;">
        *** Заказчиком может являться лицо не моложе 18 лет.
    </p>
</div>
<table class="table">
    <tr>
        <th scope="col"></th>
        <th scope="col"></th>
    </tr>
    <tr>
        <td><span>Заказчик</span></td>
        <td>
        <ul class="list-group list-group-flush mt-2">
            <li class="list-group-item">
                Фамилия: <input type="text" th:field="*{clientForm.surname}" required>
            </li>
            <li class="list-group-item">
                Имя: <input type="text" th:field="*{clientForm.name}" required>
            </li>
            <li class="list-group-item">
                Отчество: <input type="text" th:field="*{clientForm.middle_name}" >
            </li>
            <li class="list-group-item">
                Дата рождения: <input type="date" th:field="*{clientForm.dob}" required>
            </li>
            <li class="list-group-item">
                Номер телефона: <input type="text" pattern="\+79([0-9]){9}"
                                       th:field="*{clientForm.phone}" required>
            </li>
            <li class="list-group-item">
                Адрес электронной почты: <input type="email" pattern=".+@.+\..+"
                                                th:field="*{clientForm.email}" required>
            </li>
            <li class="list-group-item">
                Номер паспорта: <input type="text" pattern="([0-9]){4}"
                                       th:field="*{clientForm.passport_num}" required>
            </li>
            <li class="list-group-item">
                Серия паспорта: <input type="text" pattern="([0-9]){6}"
                                       th:field="*{clientForm.passport_series}" required>
            </li>
        </ul>
        </td>
    </tr>
</table>
        <div class="container mt-2 mb-3"  style="text-align: center;">
            <button class="btn btn-primary" type="submit" name="goToStepThree" th:value="${tour.id}"
                    style="background-color:yellow; color:black;">
                Далее
            </button>
        </div>
</form>
</div>
</body>
</html>