<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Проверка данных и оплата</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
</head>
<body>
<div class="container mt-2 mb-4">
    <h1 style="font-style: oblique; font-size: 30px; text-align: center;">Проверка данных и оплата</h1>
</div>
<div class="container mt-2" style="text-align: center;">
    <p style="font-weight: bold;">
        *** Внимательно проверьте данные перед оплатой!
    </p>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj" crossorigin="anonymous"></script>
<ul class="list-group list-group-flush mt-2 ">
    <li class="list-group-item">
        <h2 style="font-style: oblique; font-size: 20px; text-align: center;">Информация о туре:</h2>
        <ul>
            <li>
                Название отеля: <span th:utext="${tour.getId_hotel().getName()}"></span>
            </li>
            <li>
                Тип питания: <span th:utext="${tour.getId_type_of_food().getType_of_food()}"></span>
            </li>
            <li>
                Тип номера: <span th:utext="${tour.getId_type_of_room().getType_of_room()}"></span>
            </li>
            <li>
                Количество взрослых: <span th:utext="${tour.getNum_of_adults()}"></span>
            </li>
            <li>
                Количество детей: <span th:utext="${tour.getNum_of_children()}"></span>
            </li>
        </ul>
    </li>
    <li class="list-group-item">
        <h2 style="font-style: oblique; font-size: 20px; text-align: center;">Информация о заказе:</h2>
        <ul>
            <li>
                Дата отправления: <span th:utext="${orderForm.departureDate}"></span>
            </li>
            <li>
                Количество ночей: <span th:utext="${orderForm.numberOfNights}"></span>
            </li>
        </ul>
    </li>
    <li class="list-group-item">
        <h2 style="font-style: oblique; font-size: 20px; text-align: center;">Выбранные услуги:</h2>
        <ul >
            <li th:each="asi : ${addServiceInfo}"
                th:value="${asi}"
                th:utext="${asi}">
            </li>
        </ul>
    </li>
    <li class="list-group-item">
        <h2 style="font-style: oblique; font-size: 20px; text-align: center;">Информация о туристах:</h2>
        <ul >
            <li th:each="a, itemStat : ${arr}"
                th:value="${a}"> Турист <span th:text="${itemStat.count}"></span>
                <ul class="list-group list-group-flush mt-2">
                    <li class="list-group-item">
                        Фамилия: <span th:utext="${session.tourists.surname__${itemStat.count}__}"></span>
                    </li>
                    <li class="list-group-item">
                        Имя: <span th:utext="${session.tourists.name__${itemStat.count}__}"></span>
                    </li>
                    <li class="list-group-item">
                        Отчество: <span th:utext="${session.tourists.middle_name__${itemStat.count}__}"></span>
                    </li>
                    <li class="list-group-item">
                        Дата рождения: <span th:utext="${session.tourists.dob__${itemStat.count}__}"></span>
                    </li>
                    <li class="list-group-item">
                        Номер телефона: <span th:utext="${session.tourists.phone__${itemStat.count}__}"></span>
                    </li>
                    <li class="list-group-item">
                        Адрес электронной почты:
                        <span th:utext="${session.tourists.email__${itemStat.count}__}"></span>
                    </li>
                    <li class="list-group-item">
                        Номер загранпаспорта:
                        <span th:utext="${session.tourists.intl_passport_num__${itemStat.count}__}"></span>
                    </li>
                    <li class="list-group-item">
                        Серия загранпаспорта:
                        <span th:utext="${session.tourists.intl_passport_series__${itemStat.count}__}"></span>
                    </li>
                </ul>
            </li>
        </ul>
    </li>
    <li class="list-group-item">
        <h2 style="font-style: oblique; font-size: 20px; text-align: center;">Информация о страховании:</h2>
        <ul >
            <li th:each="a, itemStat : ${arr}"
                th:value="${a}">
                Турист <span th:text="${itemStat.count}"></span> :
                <span th:text="${session.insuranceForm.insurance__${itemStat.count}__.name}"></span>
            </li>
        </ul>
    </li>
    <li class="list-group-item">
        <h2 style="font-style: oblique; font-size: 20px; text-align: center;">Информация о заказчике:</h2>
        <ul class="list-group list-group-flush mt-2">
                    <li class="list-group-item">
                        Фамилия: <span th:utext="${session.clientForm.surname}"></span>
                    </li>
                    <li class="list-group-item">
                        Имя: <span th:utext="${session.clientForm.name}"></span>
                    </li>
                    <li class="list-group-item">
                        Отчество: <span th:utext="${session.clientForm.middle_name}"></span>
                    </li>
                    <li class="list-group-item">
                        Дата рождения: <span th:utext="${session.clientForm.dob}"></span>
                    </li>
                    <li class="list-group-item">
                        Номер телефона: <span th:utext="${session.clientForm.phone}"></span>
                    </li>
                    <li class="list-group-item">
                        Адрес электронной почты: <span th:utext="${session.clientForm.email}"></span>
                    </li>
                    <li class="list-group-item">
                        Номер паспорта: <span th:utext="${session.clientForm.passport_num}"></span>
                    </li>
                    <li class="list-group-item">
                        Серия паспорта: <span th:utext="${session.clientForm.passport_series}"></span>
                    </li>
        </ul>
    </li>
    <li class="list-group-item">
        К оплате: <span style="color:green; font-size: 20pt; font-weight: bold;" th:text="${fullPrice}"></span>
    </li>
</ul>
<div class="container mt-2">
    <form class="d-flex" method="post" th:action="@{/readyPage}">
        <input type="hidden" th:value="${fullPrice}" name="price">
    <div class="container mt-2 mb-3" style="text-align: center;">
        <button class="btn btn-primary" type="submit" name="goToReadyPage" th:value="${tour.id}"
                style="background-color:yellow; color:black;">
            Оплатить
        </button>
    </div>
    </form>
</div>
</body>
</html>